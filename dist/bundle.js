(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{ar:()=>k,qM:()=>x,EU:()=>L,Hn:()=>S});let e=document.querySelector(":root"),n=document.querySelector(".custome-color-button"),i=document.querySelector(".select-custome-color-list"),o=document.getElementsByClassName("select-custome-color-type"),s=document.getElementById("movie-list"),r=document.querySelector(".current-movie-section-label-text"),l=document.getElementById("movie-details"),a=document.querySelector(".movie-details"),c=document.querySelector(".dark-background"),d=document.getElementById("boxOfficeTableContainer"),m=document.querySelector(".profile-button"),h=document.getElementById("profileSection"),u=(document.querySelector(".search-genreType-button"),document.querySelector(".search-genreType-list"),document.getElementById("search-bar"),document.getElementsByClassName("select-search-genreType"),document.getElementsByClassName("side-bar-boxes-button")),g=[],v=[];async function p(t){if(L(),k){let e=JSON.parse(localStorage.getItem(k)),n=e.password;0!=e.personalWatchList.length&&(g=e.personalWatchList,v=e.personalWatchList,console.log("watchList:",g)),g.push({id:t,title:document.getElementById(t+"Title").innerText,image:document.getElementById(t+"Img").src});const i=new Set;v=g.filter((t=>{const e=i.has(t.id);return i.add(t.id),!e}));let o=[];for(let t=0;t<v.length;t++){let e={id:v[t].id,title:v[t].title,image:v[t].image};o.push(e)}let s={password:n,personalWatchList:o};console.log("watchList:",g),console.log("uniqueWatchLIst:",v),localStorage.setItem(k,JSON.stringify(s))}}function y(t){let e="",n=[],i=JSON.parse(localStorage.getItem(k)),o=i.password,r=i.personalWatchList;for(let i=0;i<r.length;i++)r[i].id!==t&&(e+=`\n                <div class="movie-grid-card" id="${r[i].id}">\n                    <img class="movie-poster" src="${r[i].image}" id="${r[i].id}Img"/>\n                    <div class="movie-title" id="${r[i].title}Title">\n                        <h4 class="movie-text">${r[i].title}</h4>\n                    </div>\n                    <button class="watchlist-movie-button" id="${r[i].id}">\n                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"></path><path d="M9 10h2v8H9zm4 0h2v8h-2z"></path></svg>\n                    </button>\n                </div>\n            `,n.push({id:r[i].id,title:r[i].title,image:r[i].image}));let l={password:o,personalWatchList:n};localStorage.setItem(k,JSON.stringify(l));for(let e=0;e<g.length;e++)g[e].id===t.id&&(g.splice(e,1),e--);s.innerHTML=e,x("movie",document.querySelectorAll(".movie-grid-card")),x("remove",document.querySelectorAll(".watchlist-movie-button"))}async function b(t){h.innerHTML="";let e="",n=!0;switch(t){case"side-bar-button-top50Movies":e=await fetch("https://imdb-api.com/en/API/Top250Movies/k_01o8qyv8"),r.innerText="Top 50 Movies";break;case"side-bar-button-top50TVs":e=await fetch("https://imdb-api.com/en/API/Top250TVs/k_01o8qyv8"),r.innerText="Top 50 TVs";break;case"side-bar-button-popularMovies":e=await fetch("https://imdb-api.com/en/API/MostPopularMovies/k_01o8qyv8"),r.innerText="Most Popular movies";break;case"side-bar-button-popularTVs":e=await fetch("https://imdb-api.com/en/API/MostPopularTVs/k_01o8qyv8"),r.innerText="Most Popular TVs",n=!1;break;case"side-bar-button-inTheaters":e=await fetch("https://imdb-api.com/en/API/InTheaters/k_01o8qyv8"),r.innerText="In Theaters";break;case"side-bar-button-boxOffice":e=await fetch("https://imdb-api.com/en/API/BoxOffice/k_01o8qyv8"),r.innerText="Box Office";break;case"side-bar-button-boxOfficeAlltime":return r.innerText="Box Office All Time",async function(){let t=await fetch("https://imdb-api.com/en/API/BoxOfficeAllTime/k_01o8qyv8");const e=await t.json();let n="";if(e.items){n+='\n            <table class="boxOfficeTable">\n                <thread>\n                    <th>Rank</th>\n                    <th>Title</th>\n                    <th>World Wide Life Time Gross</th>\n                    <th>Domestic Life Time Gross</th>\n                    <th>Domestic</th>\n                    <th>Foreign Life Time Gross</th>\n                    <th>Foreign</th>\n                    <th>Year</th>\n                </thread>\n                <tbody>\n        ';for(let t=0;t<50;t++)n+=`\n                <tr>\n                    <td data-label="rank">${e.items[t].rank}</td>\n                    <td data-label="title">${e.items[t].title}</td>\n                    <td data-label="worldWideLifeTimeCross">${e.items[t].worldwideLifetimeGross}</td>\n                    <td data-label="domesticLifeTimeGross">${e.items[t].domesticLifetimeGross}</td>\n                    <td data-label="domestic">${e.items[t].domestic}</td>\n                    <td data-label="foreignLifeTimeGross">${e.items[t].foreignLifetimeGross}</td>\n                    <td data-label="foreign">${e.items[t].foreign}</td>\n                    <td data-label="year">${e.items[t].year}</td>\n                </tr>                                                               \n            `;n+="\n                </tbody>\n            </table>\n        ",s.innerHTML="",d.innerHTML=n}else console.log("Unknown error when fetching box office data!")}();case"side-bar-button-myWatchList":return r.innerText="My Watchlist",async function(){if(k){let t=JSON.parse(localStorage.getItem(k)).personalWatchList;if(0==t.length)s.innerHTML="",h.innerHTML='\n                <div class="welcomeUserContainer">\n                    <div class="welcomeUserText">\n                        Add movies to your watch list!\n                    </div>\n                </div>\n            ';else{let e="";for(let n=0;n<t.length;n++)e+=`\n                    <div class="movie-grid-card" id="${t[n].id}">\n                        <img class="movie-poster" src="${t[n].image}" id="${t[n].id}Img"/>\n                        <div class="movie-title" id="${t[n].title}Title">\n                            <h4 class="movie-text">${t[n].title}</h4>\n                        </div>\n                        <button class="watchlist-movie-button" id="${t[n].id}">\n                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"></path><path d="M9 10h2v8H9zm4 0h2v8h-2z"></path></svg>\n                        </button>\n                    </div>\n                `;s.innerHTML=e,x("movie",document.querySelectorAll(".movie-grid-card")),x("remove",document.querySelectorAll(".watchlist-movie-button"))}}else s.innerHTML="",h.innerHTML='\n            <div class="welcomeUserContainer">\n                <div class="welcomeUserText">\n                    Please login to add movies to your watchlist!\n                </div>\n            </div>\n        '}();default:return console.log("Error! List not found")}const i=await e.json();let o=1,l="";i.items?(i.items.forEach((t=>{if(o<=50){if(l+=`\n\t\t\t\t\t<div class="movie-grid-card" id="${t.id}">\n                        <img class="movie-poster" src="\n                `,n){const e=t.image.substring(0,t.image.length-32),n=t.image.substring(t.image.length-4);l+=e+n}else l+=t.image;l+=`" id="${t.id}Img">\n                    <div class="movie-title" id="${t.id}Title">\n                            <h4 class="movie-text">`,t.fullTitle?l+=t.fullTitle:l+=t.title,l+=`\n                            </h4>\n                        </div>\n                        <button class="watchlist-movie-button" id="${t.id}">\n                        \t<svg stroke="currentColor" fill="currentColor" stroke-width="0" t="1551322312294" viewBox="0 0 1024 1024" version="1.1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><defs></defs><path d="M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"></path><path d="M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"></path></svg>\n                    \t</button>\n                    </div>\n                `,o++}})),s.innerHTML=l,x("movie",document.querySelectorAll(".movie-grid-card")),x("watchlist",document.querySelectorAll(".watchlist-movie-button"))):console.log("Unknown error!")}async function f(t){a.style.visibility="visible",c.style.visibility="visible";const e=await fetch(`https://imdb-api.com/en/API/Title/k_01o8qyv8/${t}`),n=await e.json(),i=await fetch(`https://imdb-api.com/en/API/Trailer/k_01o8qyv8/${t}`),o=await i.json();let s="";n?(s+=`\n        \t<div class="movie-detail-poster-container">\n\t\t\t\t<img class="movie-detail-poster" src="${n.image}" />\n\t\t\t</div>\n\t\t\t<button class="movie-detail-return-btn">\n\t\t\t\t<svg\n\t\t\t\t\tstroke="currentColor"\n\t\t\t\t\tfill="currentColor"\n\t\t\t\t\tstroke-width="0"\n\t\t\t\t\tviewBox="0 0 512 512"\n\t\t\t\t\theight="1em"\n\t\t\t\t\twidth="1em"\n\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td="M256 16C123.45 16 16 123.45 16 256s107.45 240 240 240 240-107.45 240-240S388.55 16 256 16zm0 60c99.41 0 180 80.59 180 180s-80.59 180-180 180S76 355.41 76 256 156.59 76 256 76zm-80.625 60c-.97-.005-2.006.112-3.063.313v-.032c-18.297 3.436-45.264 34.743-33.375 46.626l73.157 73.125-73.156 73.126c-14.63 14.625 29.275 58.534 43.906 43.906L256 299.906l73.156 73.156c14.63 14.628 58.537-29.28 43.906-43.906l-73.156-73.125 73.156-73.124c14.63-14.625-29.275-58.5-43.906-43.875L256 212.157l-73.156-73.125c-2.06-2.046-4.56-3.015-7.47-3.03z"\n\t\t\t\t\t></path>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t<div class="movie-details-description-container">\n\t\t\t\t<h1 class="movie-details-description-title">${n.title}</h1>\n\t\t\t</div>\n\t\t\t<div class="overall-subInfo-container">\n                <h4 class="movie-details-description-subInfo">\n\t\t\t\t\t&nbsp ${n.year} &nbsp &#xB7 &nbsp\n\t\t\t\t\t${n.runtimeStr} &nbsp &#xB7 &nbsp\n\t\t\t\t\t${n.contentRating}\n                </h4>\n\t\t\t\t<div class="movie-details-description-rating-container">\n\t\t\t\t\t<svg\n\t\t\t\t\t\tstroke="currentColor"\n\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\theight="1em"\n\t\t\t\t\t\twidth="1em"\n\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t>\n\t\t\t\t\t\t<polygon\n\t\t\t\t\t\t\tpoints="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"\n\t\t\t\t\t\t></polygon>\n\t\t\t\t\t</svg>\n\t\t\t\t\t&nbsp ${n.imDbRating}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="movie-description-container">\n\t\t\t\t<h3 class="movie-description-text">\n\t\t\t\t\t${n.plot}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<div class="movie-description-director-container">\n\t\t\t\t<h4>Director: &nbsp\n        `,"TVSeries"===n.type?s+=n.tvSeriesInfo.creators:s+=n.directors,s+=`</h4>\n\t\t\t</div>\n\t\t\t<div class="movie-description-stars-container">\n\t\t\t\t<h4>\n\t\t\t\t\tStars: &nbsp ${n.stars}\n\t\t\t\t</h4>\n\t\t\t</div>\n\t\t\t<div class="trailer-container">\n                <a href="${o.link}" target="_blank">\n                    <button class="trailer-icon">\n                        <svg\n                            stroke="currentColor"\n                            fill="currentColor"\n                            stroke-width="0"\n                            viewBox="0 0 1024 1024"\n                            height="1em"\n                            width="1em"\n                            xmlns="http://www.w3.org/2000/svg"\n                        >\n                            <path\n                                d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"\n                            ></path>\n                            <path\n                                d="M719.4 499.1l-296.1-215A15.9 15.9 0 0 0 398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 0 0 0-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"\n                            ></path>\n                        </svg>\n                    </button>\n                </a>\n\t\t\t</div>\n        `,l.innerHTML=s,document.querySelector(".movie-detail-return-btn").addEventListener("click",(function(){a.style.visibility="hidden",c.style.visibility="hidden"}))):console.log("Unknown error when displaying movie details!")}for(let t=0;t<u.length;t++)u[t].addEventListener("click",(()=>{S(u[t].id);let n=document.getElementById(u[t].id);n.style.backgroundColor=getComputedStyle(e).getPropertyValue("--customize-color"),n.style.transform="scale(1.1)",w(u[t].id),d.innerHTML="",b(u[t].id)}));function w(t){for(let n=0;n<u.length;n++)if(u[n].id!==t){let t=document.getElementById(u[n].id);t.style.backgroundColor=getComputedStyle(e).getPropertyValue("--main-light-color"),t.style.transform="scale(1)"}}let T="",k="";document.querySelector(".dark-light-mode-button").addEventListener("click",(()=>{" rgb(29, 30, 30)"===getComputedStyle(e).getPropertyValue("--main-color")?(e.style.setProperty("--main-color"," rgb(214, 204, 194)"),e.style.setProperty("--main-light-color"," rgb(245, 235, 224)"),e.style.setProperty("--secondary-color"," rgb(29, 30, 30)"),e.style.setProperty("--main-third-color"," rgb(213, 189, 175)")):(e.style.setProperty("--main-color"," rgb(29, 30, 30)"),e.style.setProperty("--main-light-color"," rgb(53, 54, 54)"),e.style.setProperty("--secondary-color"," rgb(255, 255, 255)"),e.style.setProperty("--main-third-color"," rgb(89, 91, 91)")),w(T),k||(m.style.color=getComputedStyle(e).getPropertyValue("--secondary-color"))})),n.addEventListener("click",(()=>{i.classList.toggle("newCustomeColorList")}));for(let t=0;t<o.length;t++)o[t].addEventListener("click",(()=>{i.classList.toggle("newCustomeColorList");const n=window.getComputedStyle(o[t]).getPropertyValue("background-color");e.style.setProperty("--customize-color",n),T&&(document.getElementById(T).style.backgroundColor=n),k&&(m.style.color=getComputedStyle(e).getPropertyValue("--customize-color"))}));async function L(){let t=document.querySelector(".movie-added-watchList-text");t.innerText=k?"Added to your watchlist":"Please login to add movies to your watchlist",t.style.opacity="1",await(3e3,new Promise((t=>{setTimeout((()=>{document.querySelector(".movie-added-watchList-text").style.opacity="0"}),3e3)})))}function S(t){T=t}function x(t,e){if("movie"===t)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>f(e[t].id)));if("watchlist"===t)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(n=>{n.stopPropagation(),p(e[t].id)}));if("remove"===t)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(n=>{n.stopPropagation(),y(e[t].id)}))}document.addEventListener("DOMContentLoaded",(function(t){document.getElementById("side-bar-button-top50Movies").click()}))})();